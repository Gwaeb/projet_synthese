<form #form="ngForm" [formGroup]="signupForm" (ngSubmit)="signUp()">
  <div class="inputContent">
    <input
      type="email"
      placeholder="Courriel"
      class="form"
      formControlName="email"
      (input)="onEmailInput()"
      [class.is-invalid]="
        signupForm.get('email')?.invalid &&
        signupForm.get('email')?.dirty &&
        signupForm.get('email')?.touched
      "
    />
    <div *ngIf="emailControl.invalid && emailControl.dirty && emailControl.touched">
      {{ uniqueEmailError || "Le courriel doit être valide." }}
    </div>
  </div>

  <div class="inputContent">
    <input
      type="text"
      placeholder="Nom d'invocateur"
      class="form"
      formControlName="name"
      [class.is-invalid]="
        signupForm.get('name')?.invalid &&
        signupForm.get('name')?.dirty &&
        signupForm.get('name')?.touched
      "
    />
    <div *ngIf="nameControl.invalid && nameControl.dirty && nameControl.touched">
      {{ nameBlankError || "Le nom d'invocateur ne peut pas être vide." }}
    </div>
  </div>

  <div class="inputContent">
    <input
      type="password"
      placeholder="Mot de passe"
      class="form"
      formControlName="password"
      [class.is-invalid]="
        signupForm.get('password')?.invalid &&
        signupForm.get('password')?.dirty &&
        signupForm.get('password')?.touched
      "
    />
    <div *ngIf="passwordControl.invalid && passwordControl.dirty && passwordControl.touched">
      {{ "Le mot de passe doit faire au moins 6 caractères" }}
    </div>
  </div>

  <div class="inputContent">
    <input
      type="password"
      placeholder="Confirmation du Mot de passe"
      class="form"
      formControlName="passwordConfirmation"
      [class.is-invalid]="
        signupForm.errors &&
        signupForm.get('passwordConfirmation')?.dirty &&
        signupForm.get('passwordConfirmation')?.touched
      "
    />
    <div *ngIf="passwordConfirmationControl.invalid && passwordConfirmationControl.dirty && passwordConfirmationControl.touched">
      {{ "Les mots de passe doivent être pareils." }}
    </div>
  </div>

  <div id="buttons">
    <button
      [disabled]="signupForm.invalid"
      class="btn btn-success btn-block"
      type="submit"
    >
      Créer mon compte
    </button>

    <a
      routerLink="/account/login"
      class="btn btn-sm btn-outline-secondary mt-4"
      role="button"
      >Annuler</a
    >
  </div>
</form>
